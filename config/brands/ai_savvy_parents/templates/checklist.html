<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title | default('AI-Savvy Parents Checklist') }}</title>
    <style>
        {{ brand_css | safe }}
    </style>
</head>
<body data-document-title="{{ title | default('Checklist') }}">
    {% if cover_page %}
    <div class="cover-page">
        <!-- Logo watermark -->
        {% if show_logo_watermark %}
        <img src="{{ brand.logo | default('assets/images/logo.png') }}" class="logo-watermark" alt="{{ brand.name }} Logo">
        {% endif %}
        
        <div class="brand-header">
            {% if show_logo %}
            <div class="logo-header {{ logo_position | default('logo-center') }}">
                <img src="{{ brand.logo | default('assets/images/logo.png') }}" class="logo" alt="{{ brand.name }} Logo">
            </div>
            {% endif %}
            <h1>{{ brand.name }}</h1>
            <div class="tagline">{{ brand.tagline }}</div>
        </div>
        
        {% if title %}
        <h1>{{ title }}</h1>
        {% endif %}
        
        {% if subtitle %}
        <div class="subtitle">{{ subtitle }}</div>
        {% endif %}
        
        {% if author %}
        <div class="author">{{ author }}</div>
        {% endif %}
        
        {% if date %}
        <div class="date">{{ date }}</div>
        {% endif %}
        
        <!-- Checklist Summary -->
        {% if checklist_summary %}
        <div class="checklist-summary">
            <div class="summary-stats">
                <div class="stat-item">
                    <span class="stat-number">{{ total_tasks | default('--') }}</span>
                    <span class="stat-label">Total Tasks</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">{{ completed_tasks | default('--') }}</span>
                    <span class="stat-label">Completed</span>
                </div>
                <div class="stat-item">
                    <span class="stat-number">{{ completion_percentage | default('--') }}%</span>
                    <span class="stat-label">Progress</span>
                </div>
            </div>
            {% if show_progress_bar %}
            <div class="progress-bar">
                <div class="progress-fill" style="width: {{ completion_percentage | default(0) }}%"></div>
            </div>
            {% endif %}
        </div>
        {% endif %}
    </div>
    {% endif %}
    
    {% if show_toc %}
    <div class="toc">
        <h2>Checklist Categories</h2>
        <div class="toc-list">
            {% for item in toc_items %}
            <div class="toc-item {{ item.level | default('toc-level-1') }}">
                <a href="#{{ item.anchor }}">{{ item.title }}</a>
                <div class="toc-dots"></div>
                <span class="toc-tasks">{{ item.task_count | default('--') }} tasks</span>
            </div>
            {% endfor %}
        </div>
    </div>
    {% endif %}
    
    <!-- Quick Overview Section -->
    {% if show_overview %}
    <div class="checklist-overview">
        <h2>ðŸ“‹ Checklist Overview</h2>
        <div class="overview-grid">
            <div class="overview-card high-priority">
                <h3>ðŸ”¥ High Priority</h3>
                <div class="priority-count">{{ high_priority_count | default('0') }} tasks</div>
            </div>
            <div class="overview-card medium-priority">
                <h3>âš¡ Medium Priority</h3>
                <div class="priority-count">{{ medium_priority_count | default('0') }} tasks</div>
            </div>
            <div class="overview-card low-priority">
                <h3>ðŸ“… Low Priority</h3>
                <div class="priority-count">{{ low_priority_count | default('0') }} tasks</div>
            </div>
        </div>
    </div>
    {% endif %}
    
    <div class="content checklist-content">
        {{ content | safe }}
    </div>
    
    <!-- Completion Summary -->
    {% if show_completion_summary %}
    <div class="completion-summary">
        <h2>âœ… Completion Summary</h2>
        <div class="summary-content">
            <p>This checklist contains <strong>{{ total_tasks | default('N/A') }} total tasks</strong> with <strong>{{ completed_tasks | default('N/A') }} completed</strong> ({{ completion_percentage | default('0') }}% complete).</p>
            
            {% if next_actions %}
            <div class="next-actions">
                <h3>ðŸŽ¯ Immediate Next Actions:</h3>
                <ul class="next-action-list">
                {% for action in next_actions %}
                    <li class="next-action-item priority-{{ action.priority | default('medium') }}">
                        <strong>{{ action.title }}</strong>
                        {% if action.due_date %} - Due: {{ action.due_date }}{% endif %}
                    </li>
                {% endfor %}
                </ul>
            </div>
            {% endif %}
        </div>
    </div>
    {% endif %}
    
    {% if show_footer %}
    <div class="footer">
        <p>For more information, visit <a href="{{ brand.website }}">{{ brand.website }}</a></p>
        <p>Join our community at <a href="{{ brand.community }}">{{ brand.community }}</a></p>
    </div>
    {% endif %}
</body>
</html>